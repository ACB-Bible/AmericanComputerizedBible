function acbNavMission(){localStorage.setItem("loaded","true"),window.open("mission.v1.html","_blank")}function acbNavCopyright(){localStorage.setItem("loaded","true"),window.open("copyright.v1.html","_blank")}async function acbStartVerses(e,t){const n=`${mainPath}DATA/${versionActive}/${versionActive}Verses.json`,d=await fetchJson(n);return allVerses.push(d),verses=allVerses[0],acbLoadVerses(e,t),Promise.resolve(!0)}async function acbLoadBooks(e){let t=0;return acbRemoveItems("id-acbInnerBook"),e.forEach((e=>{let n=document.createElement("span");n.addEventListener("click",acbChangeBook,!0),n.id=`id-acbBk${e.id}`,n.textContent=e.t,n.dataset.bid=e.id,n.dataset.c=e.c,n.dataset.idx=t,n.classList.add("cs-acbSelect"),document.getElementById("id-acbInnerBook").appendChild(n),t++})),Promise.resolve(!0)}async function acbLoadChapter(){let e=1,t=0,n=1;var d=0;for(acbCloseBox(),acbRemoveItems("id-acbInnerChapter");e<=chapterCount;){if(n){let e=document.createElement("div");e.id=`id-acbChpt${d}`,e.classList.add("cs-acbSelectLine"),document.getElementById("id-acbInnerChapter").appendChild(e),n=0}let o=document.createElement("span");o.addEventListener("click",acbChangeChapter,!0),o.id=`id-acbChp${e}`,o.textContent=e,o.dataset.cn=e,o.classList.add("cs-acbSelector"),document.getElementById(`id-acbChpt${d}`).appendChild(o),t<4?t++:(t=0,n=1,d++),e++}let o=document.createElement("div");return o.id=`id-acbChpt${d+1}`,o.textContent=" ... ",o.classList.add("cs-acbSelectLine"),document.getElementById("id-acbInnerChapter").appendChild(o),Promise.resolve(!0)}async function acbLoadVerses(e,t){let n=0,d=0,o=1;var c=0;acbRemoveItems("id-acbInnerVerse");let a=verses.findIndex((n=>n.bid===e&&n.cn===t));for(;verses[a].bid===e&&verses[a].cn===t;){if(o){let e=document.createElement("div");e.id=`id-acbVrss${c}`,e.classList.add("cs-acbSelectLine"),document.getElementById("id-acbInnerVerse").appendChild(e),o=0}let e=document.createElement("span");e.addEventListener("click",acbGoToVerse,!0),e.id=`id-acbVrs${d}`,e.textContent=verses[a].vn,e.dataset.bid=verses[a].bid,e.dataset.cn=verses[a].cn,e.dataset.vn=verses[a].vn,e.classList.add("cs-acbSelector"),document.getElementById(`id-acbVrss${c}`).appendChild(e),n<4?n++:(n=0,o=1,c++),a++,d++}let l=document.createElement("div");l.id=`id-acbVrss${c+1}`,l.textContent=" ... ",l.classList.add("cs-acbSelectLine"),document.getElementById("id-acbInnerVerse").appendChild(l),acbScroll("id-acbInnerVerse")}function acbClickedP(e){e.preventDefault(),e.stopImmediatePropagation(),id=e.target.id,document.getElementById(id).style.color="black",document.getElementById(id).style.backgroundColor="white",document.getElementById(verseClicked).style.color="black",document.getElementById(verseClicked).style.backgroundColor="white",highlighted=0}function acbRedBegin(e){verses[i].vn}function acbRedEnd(e){verses[i].vn}function acbSingleParagraph(e,t,n){for(var d=0;verses[n].bid===e&&verses[n].cn===t;){let e=document.createElement("p");e.id=`id-acbP${d}`,e.addEventListener("click",acbClickedP,!0),e.classList.add("cs-acbP"),document.getElementById("id-acbMainText").appendChild(e);let t=document.createElement("span");t.id=`id-acbSP${verses[n].vn}`,1!==verses[n].vn&&(t.textContent=verses[n].vn),t.classList.add("cs-acbNumber"),document.getElementById(`id-acbP${d}`).appendChild(t),t=document.createElement("span"),t.id=`id-acbSP${verses[n].vn}-2`,t.textContent=`${verses[n].vt} `,document.getElementById(`id-acbP${d}`).appendChild(t),n++,d++}}async function acbLoadText(e,t){let n=0;var d=0;acbRemoveItems("id-acbMainText");let o=document.createElement("p");o.id="id-acbTextTitle1",o.classList.add("cs-acbTextTitle"),document.getElementById("id-acbMainText").appendChild(o),document.getElementById("id-acbTextTitle1").textContent=document.getElementById(versionClicked).textContent,o=document.createElement("p"),o.id="id-acbTextTitle2",o.textContent=`${document.getElementById(bookClicked).textContent} ${t}`,o.classList.add("cs-acbTextTitle"),o.classList.add("cs-acbGold"),document.getElementById("id-acbMainText").appendChild(o),o=document.createElement("p"),o.id=`id-acbP${d}`,o.addEventListener("click",acbClickedP,!0),document.getElementById("id-acbMainText").appendChild(o);let c=document.createElement("img");c.src="./IMAGES/open.webp",c.alt="First Verse",c.classList="cs-acbImage2",c.setAttribute("async",!0),c.setAttribute("loading","lazy"),document.getElementById("id-acbP0").appendChild(c);let a=verses.findIndex((n=>n.bid===e&&n.cn===t));if(0===verses[a].pn)acbSingleParagraph(e,t,Number(a));else{let o=verses[a].pn;for(;verses[a].bid===e&&verses[a].cn===t;){if(verses[a].pn!==o&&(o=verses[a].pn,n=1,d++),n){let e=document.createElement("p");e.id=`id-acbP${d}`,e.classList.add("cs-acbP"),document.getElementById("id-acbMainText").appendChild(e),n=0}let e=document.createElement("span");1!==verses[a].vn&&(e.textContent=verses[a].vn),e.id=`id-acbSP${verses[a].vn}`,e.classList.add("cs-acbNumber"),document.getElementById(`id-acbP${d}`).appendChild(e),e=document.createElement("span"),e.id=`id-acbSP${verses[a].vn}-2`,e.textContent=`${verses[a].vt} `,document.getElementById(`id-acbP${d}`).appendChild(e),document.getElementById(`id-acbSP${verses[a].vn}-2`).addEventListener("click",acbClickedP,!0),a++}}}async function acbChangeVersion(e){this.event.preventDefault(),this.event.stopImmediatePropagation(),versionClicked=this.event.target.id,versionActive=document.getElementById(versionClicked).dataset.ar;let t=!1;if(1===document.getElementById(versionClicked).dataset.loaded){let e=Number(document.getElementById(versionClicked).dataset.idx);verses=allVerses[e]}else{const e=`${mainPath}DATA/${versionActive}/${versionActive}Verses.json`,t=await fetchJson(e);allVerses.push(t),verses=allVerses[versionIdx],document.getElementById(versionClicked).dataset.loaded=1,document.getElementById(versionClicked).dataset.idx=versionIdx,versionIdx++}let n=Number(document.getElementById(bookClicked).dataset.bid),d=Number(document.getElementById(chapterClicked).dataset.cn);verses&&(t=acbLoadText(n,d)),document.getElementById("id-acbTextTitle2").textContent=`${document.getElementById(bookClicked).textContent} ${d}`,acbCloseBox(),t&&1===highlighted&&(document.getElementById(textHighlight).style.backgroundColor="#aed0fc",document.getElementById(textHighlight).scrollIntoView({block:"center"})),document.getElementById(chapterClicked).style.color="crimson",document.getElementById(chapterClicked).style.backgroundColor="rgba(112, 111, 111, 0.25)"}function acbChangeBook(e){e.preventDefault(),e.stopImmediatePropagation(),acbCloseBox(),bookClicked=e.target.id,chapterCount=Number(document.getElementById(bookClicked).dataset.c);let t=Number(document.getElementById(bookClicked).dataset.bid);document.getElementById(chapterClicked).style.color="black",document.getElementById(chapterClicked).style.backgroundColor="white",acbLoadChapter(),verseClicked="id-acbVrs0",chapterClicked="id-acbChp1",acbLoadVerses(t,1),acbLoadText(t,1),document.getElementById("id-acbBody").scrollTo(0,0),document.getElementById(chapterClicked).style.color="crimson",document.getElementById(chapterClicked).style.backgroundColor="rgba(112, 111, 111, 0.25)"}function acbChangeChapter(e){e.preventDefault(),e.stopImmediatePropagation(),acbCloseBox(),document.getElementById(chapterClicked).style.color="black",document.getElementById(chapterClicked).style.backgroundColor="white",chapterClicked=e.target.id,document.getElementById(chapterClicked).style.color="crimson",document.getElementById(chapterClicked).style.backgroundColor="rgba(112, 111, 111, 0.25)",chapterCount=Number(document.getElementById(bookClicked).dataset.c);let t=Number(document.getElementById(bookClicked).dataset.bid),n=Number(document.getElementById(chapterClicked).dataset.cn);verseClicked="id-acbVrs0",acbLoadVerses(t,n),acbLoadText(t,n),document.getElementById("id-acbBody").scrollTo(0,0)}function acbGoToVerse(e){e.preventDefault(),e.stopImmediatePropagation();let t=`id-acbSP${e.target.dataset.vn}`;document.getElementById(t).scrollIntoView({block:"center"}),acbCloseBox(),mobileMenuOpen&&(document.getElementById("id-acbSelectContainer").style.display="none",document.getElementById("id-acbSelectContainer").style.width="0",mobileMenuOpen=!1),document.getElementById(`${t}-2`).style.backgroundColor="#aed0fc",firstHighlight||(document.getElementById(textHighlight).style.backgroundColor="white"),firstHighlight=!1,textHighlight=`${t}-2`,document.getElementById(verseClicked).style.color="black",document.getElementById(verseClicked).style.backgroundColor="white",e.target.style.color="crimson",e.target.style.backgroundColor="rgba(112, 111, 111, 0.25)",verseClicked=e.target.id,highlighted=1}function acbScroll(e){document.getElementById(e)&&document.getElementById(e).scrollTo(0,0)}function acbOpenClose(){this.event.preventDefault(),this.event.stopImmediatePropagation();let e=this.event.target.id;if("id-acbSelectContainer"!==e&&"id-acbFixedPanel"!==e&&1!==versionOpen&&1!==bookOpen&&1!==chapterOpen&&1!==verseOpen)switch(e){case"id-acbBookLabel":acbOpenBox("id-acbBook"),document.getElementById("id-acbSortBooks").style.display="inline-block",acbScroll("id-acbInnerBook"),bookOpen=1;break;case"id-acbChapterLabel":acbOpenBox("id-acbChapter"),chapterOpen=1;break;case"id-acbVerseLabel":acbOpenBox("id-acbVerse"),verseOpen=1;break;case"id-acbBtn3":case"id-acbBtn3":acbOpenBox("id-acbVersionList"),acbScroll("id-acbInnerVersion"),versionOpen=1;break}else acbCloseBox()}function acbOpenBox(e){document.getElementById(e).style.display="block",document.getElementById("id-acbFixedPanel").style.display="block"}function acbCloseBox(){bookOpen=0,chapterOpen=0,verseOpen=0,versionOpen=0,document.getElementById("id-acbVersionList").style.display="none",document.getElementById("id-acbBook").style.display="none",document.getElementById("id-acbChapter").style.display="none",document.getElementById("id-acbVerse").style.display="none",document.getElementById("id-acbFixedPanel").style.display="none",document.getElementById("id-acbSortBooks").style.display="none"}async function fetchFile(e){document.getElementById("id-acbHtml").style.cursor="wait",document.getElementById("id-acbHtml").style.pointerEvents="none";return await fetch(e,{mode:"cors"})&&(document.getElementById("id-acbHtml").style.cursor="default",document.getElementById("id-acbHtml").style.pointerEvents="auto"),Promise.resolve(aFile)}async function fetchJson(e){document.getElementById("id-acbHtml").style.cursor="wait",document.getElementById("id-acbHtml").style.pointerEvents="none";const t=await fetch(e,{mode:"cors"}),n=await t.json();return n&&(document.getElementById("id-acbHtml").style.cursor="default",document.getElementById("id-acbHtml").style.pointerEvents="auto"),Promise.resolve(n)}function acbRemoveItems(e){let t=document.getElementById(e);for(;t.firstChild;)t.removeChild(t.firstChild)}async function acbSetNewTestament(){document.getElementById("id-acbTestament").textContent="New Testament",newBooks.sort(((e,t)=>e.id>t.id?1:-1)),bookClicked="id-acbBk40",chapterClicked="id-acbChp1",verseClicked="id-acbVrs0",chapterCount=28;let e=!1;e=await acbLoadBooks(newBooks),acbLoadChapter(),acbLoadVerses(40,1),e&&acbLoadText(40,1),document.getElementById(chapterClicked).style.color="crimson",document.getElementById(chapterClicked).style.backgroundColor="rgba(112, 111, 111, 0.25)",document.getElementById("id-acbBody").scrollTo(0,0),testament=1}async function acbSetOldTestament(){document.getElementById("id-acbTestament").textContent="Old Testament",oldBooks.sort(((e,t)=>e.id>t.id?1:-1)),bookClicked="id-acbBk1",chapterClicked="id-acbChp1",verseClicked="id-acbVrs0",chapterCount=50;let e=!1;e=await acbLoadBooks(oldBooks),acbLoadChapter(),acbLoadVerses(1,1),acbLoadText(1,1),document.getElementById(chapterClicked).style.color="crimson",document.getElementById(chapterClicked).style.backgroundColor="rgba(112, 111, 111, 0.25)",document.getElementById("id-acbBody").scrollTo(0,0),testament=0}function acbSortBooks(){if(this.event.preventDefault(),this.event.stopImmediatePropagation(),1===bookOpen)switch(testament){case 0:bookAlph?(oldBooks.sort(((e,t)=>e.id>t.id?1:-1)),acbLoadBooks(oldBooks),bookAlph=!1,document.getElementById("id-acbSortBooks").title="Sort Books Alphabetically"):(oldBooks.sort(((e,t)=>e.t>t.t?1:-1)),acbLoadBooks(oldBooks),bookAlph=!0,document.getElementById("id-acbSortBooks").title="Sort Books Biblically");break;case 1:bookAlph?(newBooks.sort(((e,t)=>e.id>t.id?1:-1)),acbLoadBooks(newBooks),bookAlph=!1,document.getElementById("id-acbSortBooks").title="Sort Books Alphabetically"):(newBooks.sort(((e,t)=>e.t>t.t?1:-1)),acbLoadBooks(newBooks),document.getElementById("id-acbSortBooks").title="Sort Books Biblically",bookAlph=!0);break}}function acbMobileMenu(){mobileMenuOpen?(document.getElementById("id-acbSelectContainer").style.display="none",document.getElementById("id-acbSelectContainer").style.width="0",mobileMenuOpen=!1):(document.getElementById("id-acbSelectContainer").style.display="block",document.getElementById("id-acbSelectContainer").style.width="65%",mobileMenuOpen=!0)}window.onload=async()=>{let e=!1;localStorage.getItem("loaded")&&localStorage.removeItem("loaded"),e=await acbLoadBooks(oldBooks),e&&(e=!1,e=await acbLoadChapter()),e&&(e=!1,e=await acbStartVerses(1,1)),e&&(document.getElementById(chapterClicked).style.color="crimson",document.getElementById(chapterClicked).style.backgroundColor="rgba(112, 111, 111, 0.25)")},"function"==typeof window.onbeforeunload&&(window.onbeforeunload=function(){localStorage.getItem("loaded")&&localStorage.removeItem("loaded")});